# Telegram Promo Bot

Бот для выдачи промокодов подписчикам канала KATANA.

## Структура проекта

```
fakbishbot/
├── bot/
│   ├── handlers/
│   │   ├── user.py           # Обработчики пользовательских команд
│   │   └── admin.py          # Обработчики админ команд
│   ├── services/
│   │   ├── database.py       # Работа с базой данных
│   │   ├── promo.py          # Логика промокодов
│   │   ├── subscription.py   # Проверка подписки
│   │   └── broadcast.py      # Рассылка сообщений
│   ├── utils/
│   ├── config.py             # Конфигурация
│   └── constants.py          # Константы и тексты
├── data/                     # База данных и логи
├── main.py                   # Точка входа
├── requirements.txt
└── .env.example
```

## Установка

1. Клонируйте репозиторий
2. Создайте виртуальное окружение:
```bash
python -m venv venv
source venv/bin/activate  # Linux/Mac
venv\Scripts\activate     # Windows
```

3. Установите зависимости:
```bash
pip install -r requirements.txt
```

4. Создайте файл `.env` на основе `.env.example`:
```bash
cp .env.example .env
```

5. Заполните `.env` файл:
```
BOT_TOKEN=ваш_токен_бота
ADMIN_ID=796891410
```

## Запуск

```bash
python main.py
```

## Функционал

### Для пользователей
- `/start` - начать работу с ботом
- `/promo` - получить промокод (требуется подписка на канал)
- `/help` - помощь

### Для администратора
- `/admin` - открыть админ панель
- `/broadcast <текст>` - рассылка сообщения всем пользователям
- `/help` - показать все команды

### Админ панель
- Добавление промокодов с указанием срока действия
- Просмотр всех промокодов
- Удаление промокодов
- Статистика бота
- Рассылка сообщений

## Особенности

- Проверка подписки на канал перед выдачей промокода
- Один пользователь может получить только один промокод за период действия
- Модульная архитектура
- Все настройки в переменных окружения
- Логирование всех операций
